define("pkg/omelete-db/0.0.1/index",[],function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=2)}([function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),l=function(){function t(){r(this,t),this.successCallback=[],this.failCallback=[],this.finalCallback=[],this.catchCallback=[]}return i(t,[{key:"done",value:function(t){return this.successCallback.push(t),this}},{key:"fail",value:function(t){return this.failCallback.push(t),this}},{key:"final",value:function(t){return this.finalCallback.push(t),this}},{key:"catch",value:function(t){return this.catchCallback.push(t),this}},{key:"fire",value:function(t,n,e){for(var r=0,i=t.length;r<i;r++)t[r](n,e);return this}},{key:"resolve",value:function(t,n){this.fire(this.successCallback,t,n).fire(this.finalCallback,t,n)}},{key:"reject",value:function(t,n){if("dev"===window._ENV_)throw new Error("You need use fail method to get the error: "+JSON.stringify(t));this.fire(this.failCallback,t,n).fire(this.finalCallback,t,n)}}]),t}();t.exports=l},function(t,n){function e(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function r(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function i(t,n){var e=R(t)||g(t)?r(t.length,String):[],i=e.length,l=!!i;for(var o in t)!n&&!A.call(t,o)||l&&("length"==o||s(o,i))||e.push(o);return e}function l(t,n,e){var r=t[n];A.call(t,n)&&h(r,e)&&(void 0!==e||n in t)||(t[n]=e)}function o(t){if(!b(t))return p(t);var n=f(t),e=[];for(var r in t)("constructor"!=r||!n&&A.call(t,r))&&e.push(r);return e}function u(t,n){return n=E(void 0===n?t.length-1:n,0),function(){for(var r=arguments,i=-1,l=E(r.length-n,0),o=Array(l);++i<l;)o[i]=r[n+i];i=-1;for(var u=Array(n+1);++i<n;)u[i]=r[i];return u[n]=o,e(t,this,u)}}function a(t,n,e,r){e||(e={});for(var i=-1,o=n.length;++i<o;){var u=n[i],a=r?r(e[u],t[u],u,e,t):void 0;l(e,u,void 0===a?t[u]:a)}return e}function s(t,n){return!!(n=null==n?P:n)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<n}function c(t,n,e){if(!b(e))return!1;var r=typeof n;return!!("number"==r?y(e)&&s(n,e.length):"string"==r&&n in e)&&h(e[n],t)}function f(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||x)}function p(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}function h(t,n){return t===n||t!==t&&n!==n}function g(t){return v(t)&&A.call(t,"callee")&&(!B.call(t,"callee")||C.call(t)==j)}function y(t){return null!=t&&_(t.length)&&!d(t)}function v(t){return m(t)&&y(t)}function d(t){var n=b(t)?C.call(t):"";return n==k||n==S}function _(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function b(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function m(t){return!!t&&"object"==typeof t}function w(t){return y(t)?i(t,!0):o(t)}var P=9007199254740991,j="[object Arguments]",k="[object Function]",S="[object GeneratorFunction]",O=/^(?:0|[1-9]\d*)$/,x=Object.prototype,A=x.hasOwnProperty,C=x.toString,B=x.propertyIsEnumerable,E=Math.max,R=Array.isArray,T=function(t){return u(function(n,e){var r=-1,i=e.length,l=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(l=t.length>3&&"function"==typeof l?(i--,l):void 0,o&&c(e[0],e[1],o)&&(l=i<3?void 0:l,i=1),n=Object(n);++r<i;){var u=e[r];u&&t(n,u,r,l)}return n})}(function(t,n){a(n,w(n),t)});t.exports=T},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=e(3),l=r(i),o=e(0),u=r(o),a=l.default;a.Defer=u.default,t.exports=a},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(4),s=r(a),c=e(1),f=r(c),p=e(0),h=r(p),g=e(5),y=r(g),v=e(7),d=r(v),_=function(t){function n(t){i(this,n);var e=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.options=(0,f.default)({},t||{},e.constructor.defaultOptions),(0,y.default)(e),e}return o(n,t),u(n,[{key:"ajax",value:function(t,n){var e=this;n=n||new h.default;var r=this.applyPluginsWaterfall("options",(0,f.default)({},this.options,t));this.applyPluginsBailResult("endpoint",r,n)(r).then((0,d.default)(function(t){!1===e.applyPluginsBailResult("judge",t,r)&&(t=e.applyPluginsWaterfall("error",t,r),n.reject(t)),e.applyPlugins("resolve",t,r,n)},n,r),(0,d.default)(function(t){t=e.applyPluginsWaterfall("error",t,r),n.reject(t)}),n,r);return n}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="GET",n.data=t,this.ajax(n)}},{key:"post",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="POST",n.data=t,this.ajax(n)}},{key:"jsonp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="JSONP",n.data=t,this.ajax(n)}}]),n}(s.default);t.exports=_},function(t,n){function e(t){"use strict";if(void 0===this||null===this)throw new TypeError;var n=Object(this),e=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=[],i=arguments.length>=2?arguments[1]:void 0,l=0;l<e;l++)if(l in n){var o=n[l];t.call(i,o,l,n)&&r.push(o)}return r}function r(){this._plugins={}}function i(t,n){for(var e in t)n[e]=t[e];return n}t.exports=r,r.mixin=function(t){i(r.prototype,t)},r.prototype.applyPlugins=function(t){if(this._plugins[t])for(var n=Array.prototype.slice.call(arguments,1),e=this._plugins[t],r=0;r<e.length;r++)e[r].apply(this,n)},r.prototype.applyPlugins0=function(t){var n=this._plugins[t];if(n)for(var e=0;e<n.length;e++)n[e].call(this)},r.prototype.applyPlugins1=function(t,n){var e=this._plugins[t];if(e)for(var r=0;r<e.length;r++)e[r].call(this,n)},r.prototype.applyPlugins2=function(t,n,e){var r=this._plugins[t];if(r)for(var i=0;i<r.length;i++)r[i].call(this,n,e)},r.prototype.applyPluginsWaterfall=function(t,n){if(!this._plugins[t])return n;for(var e=Array.prototype.slice.call(arguments,1),r=this._plugins[t],i=n,l=0;l<r.length;l++)e[0]=i,i=r[l].apply(this,e);return i},r.prototype.applyPluginsWaterfall0=function(t,n){var e=this._plugins[t];if(!e)return n;for(var r=n,i=0;i<e.length;i++)r=e[i].call(this,r);return r},r.prototype.applyPluginsWaterfall1=function(t,n,e){var r=this._plugins[t];if(!r)return n;for(var i=n,l=0;l<r.length;l++)i=r[l].call(this,i,e);return i},r.prototype.applyPluginsWaterfall2=function(t,n,e,r){var i=this._plugins[t];if(!i)return n;for(var l=n,o=0;o<i.length;o++)l=i[o].call(this,l,e,r);return l},r.prototype.applyPluginsBailResult=function(t){if(this._plugins[t])for(var n=Array.prototype.slice.call(arguments,1),e=this._plugins[t],r=0;r<e.length;r++){var i=e[r].apply(this,n);if(void 0!==i)return i}},r.prototype.applyPluginsBailResult1=function(t,n){if(this._plugins[t])for(var e=this._plugins[t],r=0;r<e.length;r++){var i=e[r].call(this,n);if(void 0!==i)return i}},r.prototype.applyPluginsBailResult2=function(t,n,e){if(this._plugins[t])for(var r=this._plugins[t],i=0;i<r.length;i++){var l=r[i].call(this,n,e);if(void 0!==l)return l}},r.prototype.applyPluginsBailResult3=function(t,n,e,r){if(this._plugins[t])for(var i=this._plugins[t],l=0;l<i.length;l++){var o=i[l].call(this,n,e,r);if(void 0!==o)return o}},r.prototype.applyPluginsBailResult4=function(t,n,e,r,i){if(this._plugins[t])for(var l=this._plugins[t],o=0;o<l.length;o++){var u=l[o].call(this,n,e,r,i);if(void 0!==u)return u}},r.prototype.applyPluginsBailResult5=function(t,n,e,r,i,l){if(this._plugins[t])for(var o=this._plugins[t],u=0;u<o.length;u++){var a=o[u].call(this,n,e,r,i,l);if(void 0!==a)return a}},r.prototype.applyPluginsAsyncSeries=r.prototype.applyPluginsAsync=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop(),r=this._plugins[t];if(!r||0===r.length)return e();var l=0,o=this;n.push(i(e,function(t){return t?e(t):++l>=r.length?e():void r[l].apply(o,n)})),r[0].apply(this,n)},r.prototype.applyPluginsAsyncSeries1=function(t,n,e){var r=this._plugins[t];if(!r||0===r.length)return e();var l=0,o=this,u=i(e,function(t){return t?e(t):++l>=r.length?e():void r[l].call(o,n,u)});r[0].call(this,n,u)},r.prototype.applyPluginsAsyncSeriesBailResult=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop();if(!this._plugins[t]||0===this._plugins[t].length)return e();var r=this._plugins[t],l=0,o=this;n.push(i(e,function(){return arguments.length>0?e.apply(null,arguments):++l>=r.length?e():void r[l].apply(o,n)})),r[0].apply(this,n)},r.prototype.applyPluginsAsyncSeriesBailResult1=function(t,n,e){var r=this._plugins[t];if(!r||0===r.length)return e();var l=0,o=this,u=i(e,function(t,i){return arguments.length>0?e(t,i):++l>=r.length?e():void r[l].call(o,n,u)});r[0].call(this,n,u)},r.prototype.applyPluginsAsyncWaterfall=function(t,n,e){if(!this._plugins[t]||0===this._plugins[t].length)return e(null,n);var r=this._plugins[t],l=0,o=this,u=i(e,function(t,n){return t?e(t):++l>=r.length?e(null,n):void r[l].call(o,n,u)});r[0].call(this,n,u)},r.prototype.applyPluginsParallel=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop();if(!this._plugins[t]||0===this._plugins[t].length)return e();var r=this._plugins[t],l=r.length;n.push(i(e,function(t){if(!(l<0))return t?(l=-1,e(t)):(l--,0===l?e():void 0)}));for(var o=0;o<r.length;o++)if(r[o].apply(this,n),l<0)return},r.prototype.applyPluginsParallelBailResult=function(t){var n=Array.prototype.slice.call(arguments,1),r=n[n.length-1];if(!this._plugins[t]||0===this._plugins[t].length)return r();for(var l,o=this._plugins[t],u=o.length,a=[],s=0;s<o.length;s++)n[n.length-1]=function(t){return i(r,function(){t>=u||(a.push(t),arguments.length>0&&(u=t+1,a=e.call(a,function(n){return n<=t}),l=Array.prototype.slice.call(arguments)),a.length===u&&(r.apply(null,l),u=0))})}(s),o[s].apply(this,n)},r.prototype.applyPluginsParallelBailResult1=function(t,n,r){var l=this._plugins[t];if(!l||0===l.length)return r();for(var o,u=l.length,a=[],s=0;s<l.length;s++){var c=function(t){return i(r,function(){t>=u||(a.push(t),arguments.length>0&&(u=t+1,a=e.call(a,function(n){return n<=t}),o=Array.prototype.slice.call(arguments)),a.length===u&&(r.apply(null,o),u=0))})}(s);l[s].call(this,n,c)}},r.prototype.hasPlugins=function(t){var n=this._plugins[t];return n&&n.length>0},r.prototype.plugin=function(t,n){if(Array.isArray(t))return void t.forEach(function(t){this.plugin(t,n)},this);this._plugins[t]?this._plugins[t].push(n):this._plugins[t]=[n]},r.prototype.apply=function(){for(var t=0;t<arguments.length;t++)arguments[t].apply(this)}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?Object.keys(t).filter(function(t){return"_"!==t.charAt(0)}).sort().reduce(function(n,e){return n.push(e+"="+t[e]),n},[]).join("&"):""}function l(t){var n=t.__key__||t.url+"?"+i(t.data);return t.__key__=n,n}function o(t){if(!0===t.nocache||"again"===t.nocache)return!1;var n=c.default.has(l(t),t.level);if(n&&t.lazy&&t.refresh){var e=+n.slice(n.length-13);if(t.refresh<+new Date-e)return!1}return n}function u(t,n){var e=c.default.get(n.hasCache),r=new Promise(function(t,n){setTimeout(function(){e&&t((0,p.default)({__flag__:"CACHE"},e))},0)});if(n.refresh&&!n.lazy){var i=n.hasCache,l=+i.slice(i.length-13);if(n.refresh>+new Date-l)return r}return this.ajax((0,p.default)({},n,{nocache:"again",hasCache:!1}),t),r}var a=e(0),s=(r(a),e(6)),c=r(s),f=e(1),p=r(f);t.exports=function(t){c.default.compat()&&(c.default.init(),t.plugin("options",function(t){return t.hasCache=o(t),t.lazy&&!t.refresh&&(t.refresh=864e5),t}),t.plugin("endpoint",function(n,e){if(n.hasCache)return u.bind(t,e);n.__start__=+new Date}),t.plugin("resolve",function(t,n,e){if(n.nocache&&"again"!==n.nocache||t.__flag__||c.default.save(l(n),t,n.level),"again"===n.nocache&&n.lazy);else try{e.resolve(t,t.__flag__)}catch(t){throw t.message="DB("+n.url+") "+t.message,t}}))}},function(t,n,e){"use strict";function r(){return!!window.localStorage}function i(){y=Object.keys(window.localStorage)}function l(t,n){return n>3?"omelete"+n+"\u2702$_SYSTEM_$\u2702"+t+"\u2702":"omelete"+n+"\u2702"+d+"\u2702"+t+"\u2702"}function o(t){var n=t.split("\u2702"),e=void 0;if(n.length>3&&(e=v[n[2]]),!e)try{e=JSON.parse(localStorage[t]),e.v===g?e=e.r:(p([t]),e=!1)}catch(t){y.length=0,localStorage.clear(),e=!1}return e}function u(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=l(t,n),r=0,i=y.length;r<i;r++)if(0===y[r].indexOf(e))return y[r];return!1}function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;"object"===(void 0===n?"undefined":h(n))&&(v[t]=n,s(t,n,e,0))}function s(t,n,e,r){n={r:n,v:g},setTimeout(function(){c(t,e);var i=JSON.stringify(n);if(!(i.length>1e5)){var o=""+l(t,e)+ +new Date;try{window.localStorage[o]=i,y.push(o)}catch(i){r<=e&&(f(r),s(t,e,n,r++))}}},0)}function c(t,n){for(var e=l(t,n),r=[],i=0,o=y.length;i<o;i++)0===y[i].indexOf(e)&&r.push(y[i]);p(r)}function f(t){var n=[];if(t>4)return y.length=0,void window.localStorage.clear();if(0===t)for(var e=/omelete[1-3]\u2702([^\u2702]+)/,r=0,i=y.length;r<i;r++){var l=y[r].match(e);l&&l[1]!==d&&n.push(y[r])}else for(var o="omelete"+t+"\u2702",u=0,a=y.length;u<a;u++)0===y[u].indexOf(o)&&n.push(y[u]);p(n)}function p(t){for(var n=0,e=t.length;n<e;n++){var r=t[n],i=y.indexOf(r);i>=0&&y.splice(i,1),window.localStorage.removeItem(r)}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=1,y=[],v=[],d=function(){var t=/(^| )last_mid=([^;]*)(;|$)/,n=document.cookie.match(t);return n?n[2]:"$_stranger_$"}();t.exports={compat:r,init:i,save:a,has:u,get:o}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){var n="DB("+t.url+")";return"object"===r(t._inject_)&&(n="Component("+t._inject_.name+"@"+t._inject_.version+")."+n),n};t.exports=function(t,n,e){return function(r){try{t(r)}catch(t){var l=window["console"];0===n.catchCallback.length&&l&&l.warn&&(l.warn(i(e)+" may have some error, please use catch method to catch error"),l.warn(t.toString())),n.fire(n.catchCallback,t)}}}}])});